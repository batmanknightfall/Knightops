<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="theme-color" content="#101214"/>
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="styles.css"/>
  <title>NightOps</title>
</head>
<body>
  <header class="appbar">
    <div class="title">NightOps</div>
    <div class="status">
      <span id="clock">--:--</span>
      <span id="battery">--%</span>
      <button id="btnInstall" hidden>Install</button>
      <button id="btnConsole" aria-label="Toggle Console">≡</button>
    </div>
  </header>

  <main>
    <section class="card">
      <div class="row">
        <input id="passphrase" type="password" placeholder="Passphrase (set once)"/>
        <button id="btnUnlock">Unlock</button>
      </div>
      <small id="keyState">Key: not initialized</small>
    </section>

    <section class="card actions">
      <button id="quickNote">＋ Note</button>
      <button id="quickTask">＋ Task</button>
      <button id="panicWipe" class="danger">Panic Wipe</button>
      <button id="decoyMode">Decoy Vault</button>
    </section>

    <section class="card">
      <div class="tabs">
        <button class="tab active" data-tab="notes">Notes</button>
        <button class="tab" data-tab="tasks">Tasks</button>
        <input id="search" type="search" placeholder="Filter..."/>
      </div>
      <div id="list-notes" class="list"></div>
      <div id="list-tasks" class="list hidden"></div>
    </section>

    <dialog id="editor">
      <form method="dialog">
        <h3 id="editorTitle">New</h3>
        <textarea id="editorBody" rows="10" placeholder="Type..."></textarea>
        <menu>
          <button value="cancel">Cancel</button>
          <button id="saveItem" value="default">Save</button>
        </menu>
      </form>
    </dialog>

    <section id="console" class="console hidden" aria-live="polite"></section>
  </main>

  <footer class="foot">
    <small>Offline‑first • Encrypted • v1.0</small>
  </footer>

  <script src="crypto.js"></script>
  <script src="db.js"></script>
  <script src="app.js"></script>
</body>
</html>
